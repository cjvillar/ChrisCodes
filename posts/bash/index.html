<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="/ChrisCodes/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=ChrisCodes/livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
<title>Not to bash on Bash. | ChrisCodes</title>
<meta name="keywords" content="bash, terminal">
<meta name="description" content="Just because you can doesn&#39;t mean you should.">
<meta name="author" content="Chris">
<link rel="canonical" href="https://canonical.url/to/page">
<link crossorigin="anonymous" href="/ChrisCodes/assets/css/stylesheet.css" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/ChrisCodes/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/ChrisCodes/favicon.ico">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/ChrisCodes/favicon.ico">
<link rel="apple-touch-icon" href="http://localhost:1313/ChrisCodes/favicon.ico">
<link rel="mask-icon" href="http://localhost:1313/ChrisCodes/favicon.ico">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="http://localhost:1313/ChrisCodes/posts/bash/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/ChrisCodes/" accesskey="h" title="ChrisCodes (Alt + H)">ChrisCodes</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/ChrisCodes/tags/" title="tags">
                    <span>tags</span>
                </a>
            </li>
            <li>
                <a href="https://www.cjvillarreal.com/" title="cjvillarreal.com">
                    <span>cjvillarreal.com</span>&nbsp;
                    <svg fill="none" shape-rendering="geometricPrecision" stroke="currentColor" stroke-linecap="round"
                        stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12">
                        <path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"></path>
                        <path d="M15 3h6v6"></path>
                        <path d="M10 14L21 3"></path>
                    </svg>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="http://localhost:1313/ChrisCodes/">Home</a>&nbsp;»&nbsp;<a href="http://localhost:1313/ChrisCodes/posts/">Posts</a></div>
    <h1 class="post-title entry-hint-parent">
      Not to bash on Bash.
    </h1>
    <div class="post-description">
      Just because you can doesn&#39;t mean you should.
    </div>
    <div class="post-meta">2 min&nbsp;·&nbsp;389 words&nbsp;·&nbsp;Chris

</div>
  </header> 
<figure class="entry-cover"><img loading="eager" src="http://localhost:1313/ChrisCodes/images/bash.PNG" alt="">
        <p><!-- raw HTML omitted -->
</p>
</figure>

  <div class="post-content"><p>My job out of college was working on the UCSC Genome Browser QA team. One of the first things I had to do was get comfortable with the Born again shell (bash). I found it really helpful to have a quiver of one-liners for repetitive tasks.</p>
<p>For example, I can create a dummy data file with 1000 lines:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="k">for</span><span class="o">((</span><span class="nv">i</span><span class="o">=</span>1<span class="p">;</span>i&lt;<span class="o">=</span>1000<span class="p">;</span> i++<span class="o">))</span><span class="p">;</span> <span class="k">do</span> <span class="nb">echo</span> <span class="s2">&#34;data_point_</span><span class="nv">$i</span><span class="s2">&#34;</span> &gt;&gt; data_munging.txt<span class="p">;</span> <span class="k">done</span>
</span></span></code></pre></div><p>Let’s say I needed to add each entry in an SQL query (for some reason)
I’d need to remove the new lines and add a comma as a separator with each data_point in single quotes. I wouldn’t want to do that manually!</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nb">echo</span> <span class="k">$(</span>sed <span class="s2">&#34;</span>$<span class="s2"> ! s/.*/&#39;&amp;&#39;,/; </span>$<span class="s2"> s/.*/&#39;&amp;&#39;/&#34;</span> data_munging.txt<span class="k">)</span>
</span></span></code></pre></div><p>Aaaand we’re done. So fast.</p>
<p>Recently, I had the idea to try a Leet Code problem with a bash script. There is really no reason to do this other than curiosity.</p>
<p>Let’s try Two Sum. The problem is as follows: Given an array of integers (nums) and an integer target, return the indices of the two numbers such that they add up to the target. Assume each input has exactly one solution and you may not use the same
element twice.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="cp">#!/bin/bash
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="nv">nums</span><span class="o">=(</span><span class="m">1</span> <span class="m">22</span> <span class="m">4</span> <span class="m">8</span> <span class="m">10</span> <span class="m">32</span> <span class="m">40</span> <span class="m">3</span> <span class="m">100</span> <span class="m">1</span> <span class="m">89</span> <span class="m">3</span> <span class="m">9</span> 0<span class="o">)</span>
</span></span><span class="line"><span class="cl"><span class="nv">target</span><span class="o">=</span><span class="m">6</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">for</span> i in <span class="si">${</span><span class="p">!nums[@]</span><span class="si">}</span> 
</span></span><span class="line"><span class="cl">    <span class="k">do</span>  
</span></span><span class="line"><span class="cl">    <span class="nv">diff</span><span class="o">=</span><span class="k">$((</span><span class="nv">$target</span> <span class="o">-</span> <span class="si">${</span><span class="nv">nums</span><span class="p">[</span><span class="nv">$i</span><span class="p">]</span><span class="si">}</span><span class="k">))</span> 
</span></span><span class="line"><span class="cl">    <span class="k">for</span> j in <span class="si">${</span><span class="p">!nums[@]</span><span class="si">}</span> 
</span></span><span class="line"><span class="cl">    <span class="k">do</span>    
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="o">[[</span> <span class="s2">&#34;</span><span class="si">${</span><span class="nv">nums</span><span class="p">[j]</span><span class="si">}</span><span class="s2">&#34;</span> <span class="o">=</span> <span class="s2">&#34;</span><span class="nv">$diff</span><span class="s2">&#34;</span> <span class="o">&amp;&amp;</span> <span class="nv">$i</span> !<span class="o">=</span> <span class="nv">$j</span> <span class="o">]]</span> 
</span></span><span class="line"><span class="cl">        <span class="k">then</span> 
</span></span><span class="line"><span class="cl">            <span class="nb">echo</span> <span class="s2">&#34;[</span><span class="nv">$i</span><span class="s2">,</span><span class="nv">$j</span><span class="s2">]&#34;</span>                    
</span></span><span class="line"><span class="cl">            <span class="nb">break</span> <span class="m">2</span> 
</span></span><span class="line"><span class="cl">        <span class="k">fi</span>
</span></span><span class="line"><span class="cl">    <span class="k">done</span>       
</span></span><span class="line"><span class="cl"><span class="k">done</span> 
</span></span></code></pre></div><p>I’ll break down the code below:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nv">nums</span><span class="o">=(</span><span class="m">1</span> <span class="m">22</span> <span class="m">4</span> <span class="m">8</span> <span class="m">10</span> <span class="m">32</span> <span class="m">40</span> <span class="m">3</span> <span class="m">100</span> <span class="m">1</span> <span class="m">89</span> <span class="m">3</span> <span class="m">9</span> 0<span class="o">)</span>
</span></span><span class="line"><span class="cl"><span class="nv">target</span><span class="o">=</span><span class="m">6</span>
</span></span></code></pre></div><p>Initialize an array, nums, and a variable, target.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="k">for</span> i in <span class="si">${</span><span class="p">!nums[@]</span><span class="si">}</span>
</span></span></code></pre></div><p>This line begins a for loop that loops through the nums array’s indices.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nv">diff</span><span class="o">=</span><span class="k">$((</span><span class="nv">$target</span> <span class="o">-</span> <span class="si">${</span><span class="nv">nums</span><span class="p">[</span><span class="nv">$i</span><span class="p">]</span><span class="si">}</span><span class="k">))</span>
</span></span></code></pre></div><p>Then we calculate the difference between the target and each element in the nums array.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="k">for</span> j in <span class="si">${</span><span class="p">!nums[@]</span><span class="si">}</span>
</span></span></code></pre></div><p>Nested loop to go through the elements in nums.</p>
<pre tabindex="0"><code>if [[ &#34;${nums[j]}&#34; = &#34;$diff&#34; &amp;&amp; $i != $j ]]
</code></pre><p>If the difference of target and index &ldquo;i&rdquo; is found in the array and the index that it’s found at is not the same as &ldquo;i&rdquo;, proceed.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nb">echo</span> <span class="s2">&#34;[</span><span class="nv">$i</span><span class="s2">,</span><span class="nv">$j</span><span class="s2">]&#34;</span> 
</span></span><span class="line"><span class="cl"><span class="nb">break</span> <span class="m">2</span>
</span></span></code></pre></div><p>Output the indices found and break out of the nested loop.</p>
<pre tabindex="0"><code>[7,11]
</code></pre><p>It works! However, not to bash on Bash, that doesn&rsquo;t mean you should do it.</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="http://localhost:1313/ChrisCodes/tags/bash/">Bash</a></li>
      <li><a href="http://localhost:1313/ChrisCodes/tags/terminal/">Terminal</a></li>
    </ul>
<nav class="paginav">
  <a class="prev" href="http://localhost:1313/ChrisCodes/posts/assembly_fun/">
    <span class="title">« Prev</span>
    <br>
    <span>ASSEMBLY FUN 💾</span>
  </a>
</nav>

  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2024 <a href="http://localhost:1313/ChrisCodes/">ChrisCodes</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
